import{u as f}from"./exam-store-4aS1xS3t.js";import{_ as b}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-DLzKQwwZ.js";import{d as _,b as h,e as n,a as s,u as x,c as u,F as p,f as l,i as m,w as c,h as k,r as v,o,t as i,m as w,g as C}from"./index-BOofV5PH.js";const V={class:"max-w-3xl mx-auto px-4 py-8"},B={key:0,class:"text-center text-gray-400 py-16"},L={key:1,class:"space-y-3"},N={class:"flex-1 min-w-0"},D={class:"font-semibold text-gray-800 truncate"},S={class:"text-xs text-gray-400 mt-0.5"},E={class:"text-center shrink-0"},F={class:"flex flex-col xs:flex-row gap-1.5 shrink-0"},z=_({__name:"HistoryView",setup(H){const a=f();h(()=>a.fetchHistory());function g(r){if(r.score===null)return"text-gray-400";const t=r.score/r.total;return t>=.8?"text-green-600":t>=.5?"text-yellow-600":"text-red-500"}function y(r){return new Date(r).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}return(r,t)=>{const d=v("RouterLink");return o(),n("div",V,[t[6]||(t[6]=s("h1",{class:"text-2xl font-bold text-gray-900 mb-6"},"Lá»‹ch sá»­ bÃ i thi",-1)),x(a).loading?(o(),u(b,{key:0,message:"Äang táº£i lá»‹ch sá»­..."})):(o(),n(p,{key:1},[x(a).history.length===0?(o(),n("div",B,[t[2]||(t[2]=s("p",{class:"text-4xl mb-3"},"ðŸ“‹",-1)),s("p",null,[t[1]||(t[1]=l("ChÆ°a cÃ³ bÃ i thi nÃ o. ",-1)),m(d,{to:"/",class:"text-blue-600 underline"},{default:c(()=>[...t[0]||(t[0]=[l("Báº¯t Ä‘áº§u thi ngay!",-1)])]),_:1})])])):(o(),n("div",L,[(o(!0),n(p,null,k(x(a).history,e=>(o(),n("div",{key:e.id,class:"bg-white border rounded-xl p-3 sm:p-4 flex items-center justify-between gap-3 shadow-sm hover:border-blue-300 transition-colors"},[s("div",N,[s("p",D,i(e.topic),1),s("p",S,i(y(e.created_at)),1)]),s("div",E,[s("span",{class:w(["text-lg font-bold",g(e)])},i(e.score??"â€”")+"/"+i(e.total),3),t[3]||(t[3]=s("p",{class:"text-xs text-gray-400"},"Ä‘iá»ƒm",-1))]),s("div",F,[m(d,{to:{name:"result",params:{sessionId:e.id}},class:"text-xs sm:text-sm px-2.5 sm:px-3 py-1.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 text-center"},{default:c(()=>[...t[4]||(t[4]=[l(" Xem ",-1)])]),_:1},8,["to"]),e.status==="completed"&&(e.score??0)<e.total?(o(),u(d,{key:0,to:{name:"review",params:{sessionId:e.id}},class:"text-xs sm:text-sm px-2.5 sm:px-3 py-1.5 rounded-lg bg-orange-500 text-white hover:bg-orange-600 text-center"},{default:c(()=>[...t[5]||(t[5]=[l(" Ã”n táº­p ",-1)])]),_:1},8,["to"])):C("",!0)])]))),128))]))],64))])}}});export{z as default};
