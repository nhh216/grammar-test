import{d as $,b as w,e as n,i as k,w as C,c as S,F as h,a as s,t as g,h as E,u as d,f as x,g as M,j as v,k as f,r as V,l as B,o as a,m as L}from"./index-BOofV5PH.js";import{u as T}from"./exam-store-4aS1xS3t.js";import{_ as j}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-DLzKQwwZ.js";function N(b){return b.replace(/:::tip\n([\s\S]*?):::/gm,(t,e)=>`<div class="tip-box"><strong>üí° M·∫πo:</strong> ${e.trim()}</div>`).replace(/:::example\n([\s\S]*?):::/gm,(t,e)=>`<div class="example-box"><strong>üìù V√≠ d·ª•:</strong><br>${e.trim()}</div>`).replace(/:::warning\n([\s\S]*?):::/gm,(t,e)=>`<div class="warning-box"><strong>‚ö†Ô∏è L∆∞u √Ω:</strong> ${e.trim()}</div>`).replace(/^#### (.+)$/gm,"<h4>$1</h4>").replace(/^### (.+)$/gm,"<h3>$1</h3>").replace(/^## (.+)$/gm,"<h2>$1</h2>").replace(/^---$/gm,"<hr>").replace(/\*\*\*(.+?)\*\*\*/g,"<strong><em>$1</em></strong>").replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`([^`]+)`/g,"<code>$1</code>").replace(/^> (.+)$/gm,"<blockquote>$1</blockquote>").replace(/^\|(.+)\|$/gm,t=>`<tr>${t.slice(1,-1).split("|").map(l=>l.trim()).map(l=>`<td>${l}</td>`).join("")}</tr>`).replace(/(<tr>[\s\S]*?<\/tr>\n?)+/g,t=>{const e=t.trim().split(`
`).filter(p=>p.startsWith("<tr>"));if(e.length===0)return t;const[l,,...m]=e,u=l.replace(/<td>/g,"<th>").replace(/<\/td>/g,"</th>"),r=m.filter(p=>!/<td>-+<\/td>/.test(p));return`<div class="table-wrapper"><table><thead>${u}</thead><tbody>${r.join(`
`)}</tbody></table></div>`}).replace(/^- (.+)$/gm,"<li>$1</li>").replace(/(<li>[\s\S]*?<\/li>\n?)+/g,t=>`<ul>${t}</ul>`).replace(/^(?!<[a-z/])(.+)$/gm,t=>t.trim()?`<p>${t}</p>`:"").replace(/\n{2,}/g,`
`)}const q={class:"max-w-3xl mx-auto px-4 py-6 sm:py-8"},z={class:"mb-8"},D={class:"text-2xl sm:text-3xl font-bold text-gray-900"},F={class:"text-gray-500 mt-2"},H=["innerHTML"],Q={key:1,class:"bg-gray-50 rounded-2xl p-6 mb-8 text-gray-400 italic text-sm"},R={class:"bg-blue-50 border border-blue-200 rounded-2xl p-6 flex flex-col sm:flex-row items-start sm:items-center gap-6"},I={class:"flex-1 w-full"},K={class:"flex gap-3"},W=["onClick"],A=["disabled"],G={key:2,class:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm"},J={key:2,class:"text-center py-16 text-gray-400"},Y=$({__name:"TopicDetailView",props:{slug:{}},setup(b){const t=b,e=T(),l=B(),m=v(10),u=v(!1),r=f(()=>e.topics.find(o=>o.slug===t.slug)),p=f(()=>{var o;return(o=r.value)!=null&&o.summary?N(r.value.summary):""});w(async()=>{e.topics.length||(u.value=!0,await e.fetchTopics(),u.value=!1)});async function _(){if(!r.value)return;const o=await e.startExam(r.value.id,m.value);o&&l.push({name:"exam",params:{sessionId:o}})}return(o,i)=>{const y=V("router-link");return a(),n("div",q,[k(y,{to:{name:"home"},class:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 mb-6 transition-colors"},{default:C(()=>[...i[1]||(i[1]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),x(" Quay l·∫°i danh s√°ch ",-1)])]),_:1}),u.value?(a(),S(j,{key:0,message:"ƒêang t·∫£i..."})):r.value?(a(),n(h,{key:1},[s("div",z,[s("h1",D,g(r.value.name),1),s("p",F,g(r.value.description),1)]),r.value.summary?(a(),n("article",{key:0,class:"bg-white border border-gray-200 rounded-2xl p-4 sm:p-6 mb-8 prose-content overflow-hidden",innerHTML:p.value},null,8,H)):(a(),n("div",Q," Ch∆∞a c√≥ t√≥m t·∫Øt ng·ªØ ph√°p cho ch·ªß ƒë·ªÅ n√†y. ")),s("div",R,[s("div",I,[i[2]||(i[2]=s("p",{class:"text-sm font-semibold text-blue-800 mb-3"},"Ch·ªçn s·ªë c√¢u h·ªèi",-1)),s("div",K,[(a(),n(h,null,E([5,10,15,20],c=>s("button",{key:c,class:L(["flex-1 py-2 rounded-lg border-2 font-semibold text-sm transition-all",m.value===c?"border-blue-600 bg-blue-600 text-white":"border-blue-200 bg-white text-blue-700 hover:border-blue-400"]),onClick:O=>m.value=c},g(c)+" c√¢u ",11,W)),64))])]),s("button",{class:"bg-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors w-full sm:w-auto disabled:opacity-40",disabled:d(e).loading,onClick:_},g(d(e).loading?"ƒêang t·∫°o ƒë·ªÅ...":"L√†m ƒë·ªÅ ‚Üí"),9,A)]),d(e).error?(a(),n("div",G,[x(g(d(e).error)+" ",1),s("button",{class:"ml-2 underline",onClick:i[0]||(i[0]=(...c)=>d(e).clearError&&d(e).clearError(...c))},"ƒê√≥ng")])):M("",!0)],64)):(a(),n("div",J,"Kh√¥ng t√¨m th·∫•y ch·ªß ƒë·ªÅ."))])}}});export{Y as default};
