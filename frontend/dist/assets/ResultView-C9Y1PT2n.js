import{u as C}from"./exam-store-4aS1xS3t.js";import{_ as S}from"./QuestionCard.vue_vue_type_script_setup_true_lang-fHmXyX6h.js";import{_ as L}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-DLzKQwwZ.js";import{d as V,b as q,e as c,u as B,c as d,F as f,a as s,t as a,m as I,i as h,w as m,g as _,h as N,k as o,r as R,o as r,f as p}from"./index-BOofV5PH.js";const T={class:"max-w-3xl mx-auto px-4 py-8"},E={class:"bg-white border rounded-2xl p-6 text-center mb-8 shadow-sm"},F={class:"text-gray-500 text-sm mb-1"},$={class:"text-gray-600"},j={class:"flex justify-center gap-3 mt-4"},z={class:"space-y-4"},M=V({__name:"ResultView",props:{sessionId:{}},setup(y){const v=y,n=C(),e=o(()=>n.currentSession),g=o(()=>{var u;return((u=e.value)==null?void 0:u.questions.filter(t=>!t.is_correct).length)??0}),b=o(()=>g.value>0),i=o(()=>e.value?(e.value.score??0)/e.value.total:0),w=o(()=>i.value>=.8?"text-green-600":i.value>=.5?"text-yellow-600":"text-red-500"),k=o(()=>i.value>=.8?"ðŸŽ‰ Xuáº¥t sáº¯c! Tiáº¿p tá»¥c phÃ¡t huy nhÃ©.":i.value>=.5?"ðŸ‘ KhÃ¡ tá»‘t! HÃ£y Ã´n láº¡i pháº§n chÆ°a Ä‘Ãºng.":"ðŸ’ª Cáº§n cá»‘ gáº¯ng thÃªm. Ã”n táº­p vÃ  thá»­ láº¡i nhÃ©!");return q(async()=>{(!n.currentSession||n.currentSession.id!==v.sessionId)&&await n.fetchSession(v.sessionId)}),(u,t)=>{const l=R("RouterLink");return r(),c("div",T,[B(n).loading?(r(),d(L,{key:0,message:"Äang táº£i káº¿t quáº£..."})):e.value?(r(),c(f,{key:1},[s("div",E,[s("p",F,"Chá»§ Ä‘á»: "+a(e.value.topic),1),s("div",{class:I(["text-6xl font-bold mb-2",w.value])},a(e.value.score)+"/"+a(e.value.total),3),s("p",$,a(k.value),1),s("div",j,[h(l,{to:"/",class:"px-5 py-2 rounded-lg border border-blue-600 text-blue-600 text-sm font-medium hover:bg-blue-50"},{default:m(()=>[...t[0]||(t[0]=[p(" Thi láº¡i ",-1)])]),_:1}),b.value?(r(),d(l,{key:0,to:{name:"review",params:{sessionId:e.value.id}},class:"px-5 py-2 rounded-lg bg-orange-500 text-white text-sm font-medium hover:bg-orange-600"},{default:m(()=>[p(" Ã”n táº­p cÃ¢u sai ("+a(g.value)+") ",1)]),_:1},8,["to"])):_("",!0),h(l,{to:"/history",class:"px-5 py-2 rounded-lg border border-gray-300 text-gray-700 text-sm font-medium hover:bg-gray-50"},{default:m(()=>[...t[1]||(t[1]=[p(" Lá»‹ch sá»­ thi ",-1)])]),_:1})])]),s("div",z,[(r(!0),c(f,null,N(e.value.questions,x=>(r(),d(S,{key:x.id,question:x,interactive:!1},null,8,["question"]))),128))])],64)):_("",!0)])}}});export{M as default};
