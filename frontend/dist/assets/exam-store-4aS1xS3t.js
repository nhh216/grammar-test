import{q as S,j as l}from"./index-BOofV5PH.js";import{a as n}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-DLzKQwwZ.js";const b=S("exam",()=>{const s=l([]),c=l(null),i=l({}),v=l([]),f=l([]),a=l(!1),e=l(null);async function y(){a.value=!0,e.value=null;try{s.value=await n.getTopics()}catch(t){e.value=r(t)}finally{a.value=!1}}async function m(t,u){a.value=!0,e.value=null,i.value={};try{const o=await n.generateExam(t,u);return c.value=o,o.id}catch(o){return e.value=r(o),null}finally{a.value=!1}}function w(t,u){i.value[t]=u}async function h(t){a.value=!0,e.value=null;try{const u=await n.submitExam(t,i.value);return c.value=u,!0}catch(u){return e.value=r(u),!1}finally{a.value=!1}}async function p(){a.value=!0,e.value=null;try{v.value=await n.getHistory()}catch(t){e.value=r(t)}finally{a.value=!1}}async function g(t){a.value=!0,e.value=null;try{c.value=await n.getSession(t)}catch(u){e.value=r(u)}finally{a.value=!1}}async function x(t){a.value=!0,e.value=null;try{f.value=await n.getReview(t)}catch(u){e.value=r(u)}finally{a.value=!1}}function E(){e.value=null}return{topics:s,currentSession:c,userAnswers:i,history:v,reviewQuestions:f,loading:a,error:e,fetchTopics:y,startExam:m,setAnswer:w,submitExam:h,fetchHistory:p,fetchSession:g,fetchReview:x,clearError:E}},{persist:{pick:["currentSession","userAnswers"]}});function r(s){return s instanceof Error?s.message:"An unexpected error occurred"}export{b as u};
